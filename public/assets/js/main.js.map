{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nlet listCharactersApi = [];\nlet listCharacterFavourite = []; //array donde guardo el elemento clickado\nconst ulElement = document.querySelector('.js_ul_list');\nconst url = 'https://api.disneyapi.dev/character?pageSize=50';\nconst ulFavourites = document.querySelector('.js_ul_favlist');\n\n//Obtener el array de personajes desde el API con fetch()\nfetch(url)\n  .then(response => response.json())\n  .then(data => {\n  listCharactersApi = data.data;\n  renderCharacterList(listCharactersApi);\n \n  })\n  .catch(error => {\n    console.error('Error', error);\n});\n\nfunction renderCharacterList (listData) {\n  ulElement.innerHTML = '';\n  for (const character of listData) {\n    ulElement.innerHTML += renderCharacter(character);\n  }\n  addEventCharacter();\n}\n\nfunction addEventCharacter () {\n  const divElementList = document.querySelectorAll('.js_character-list');\n  for (const div of divElementList) {\n    div.addEventListener('click', handleClick);\n  }\n}\n\nfunction renderCharacter(character) { \n    const html = `\n      <div id=\"${character.id}\" class=\"characters js_character-list\">\n      <p>Name: ${character.name}</p>\n      <img src=\"${character.imageUrl}\" alt=\"${character.name}\" />\n    </div>\n    `;\n  return html;\n}\n\n//AÃ±adir a favoritos\nfunction handleClick(event) {\n  const id = event.currentTarget.id // quiero que se tenga en cuenta ese ID y se ponga en favoritos\n //find (busca dentro de un array el primer elemento que cumpla con la condicion que pides y te devuelve el contenido)\n const selectedCharacter = listCharactersApi.find((item) => item.id === id );\n \n //findIndex te devuelve la posicion\n const indexCharacter = listCharacterFavourite.findIndex((item) => item.id === id ); //busco en que posicion se encuentra dentro del array de favoritos\n \n if (findIndex === -1) {\n listCharacterFavourite.push(selectedCharacter);// si da -1 es porque no esta en el array de fav y entonces hay que meterlo (push)\n} else {\n  listCharacterFavourite.splice(indexCharacter, 1 );\n}\n\nrenderFavouriteList();\n}\n\n//pintar en la pagina el nuevo array de favoritos\n\nfunction renderFavouriteList () {\n ulFavourites.innerHTML = '';\n  for (const fav of listCharacterFavourite)(\n    ulFavourites.innerHTML += renderCharacter(fav)\n  )\n}\n"]}