{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nlet listCharactersApi = [];\nlet listCharacterFavorite = [];\nconst ulElement = document.querySelector('.js_ul_list');\nconst url = 'https://api.disneyapi.dev/character?pageSize=50';\nconst ulFavorites = document.querySelector('.js_ul_favlist');\nconst favoritesSection = document.querySelector('.js_favorites-section');\n\nfetch(url)\n  .then(response => response.json())\n  .then(data => {\n    listCharactersApi = data.data;\n    renderCharacterList(listCharactersApi);\n    localStorage.setItem('character',  JSON.stringify(listCharacterFavorite));\n  })\n  .catch(error => {\n    console.error('Error', error);\n});\n\nfunction renderCharacterList(listData) {\n  ulElement.innerHTML = '';\n  for (const character of listData) {\n    ulElement.innerHTML += renderCharacter(character);\n  }\n  addEventCharacter();\n}\n\nfunction addEventCharacter() {\n  const divElementList = document.querySelectorAll('.js_character-list');\n  for (const div of divElementList) {\n    div.addEventListener('click', handleClick);\n  }\n}\n\nfunction renderCharacter(character) { \n  const isFavorite = listCharacterFavorite.some((item) => item.id === character.id);\n  const favoriteClass = isFavorite ? 'favorite' : '';\n  const html = `\n    <div class=\"characters js_character-list ${favoriteClass}\" id=\"${character.id}\">\n      <p>Name: ${character.name}</p>\n      <img src=\"${character.imageUrl}\" alt=\"${character.name}\" />\n    </div>\n  `;\n  return html;\n}\n\nfunction renderFavoriteCharacter(character) { \n  const html = `\n    <div class=\"characters-container\">\n      <div class=\"characters js_favorite-character\" id=\"${character.id}\">\n        <p>Name: ${character.name}</p>\n        <img src=\"${character.imageUrl}\" alt=\"${character.name}\" />\n      </div>\n    </div>\n  `;\n  return html;\n}\n\nfunction handleClick(event) {\n  const id = event.currentTarget.id;\n  const selectedCharacter = listCharactersApi.find((item) => item.id === id);\n  const indexCharacter = listCharacterFavorite.findIndex((item) => item.id === id);\n\n  if (indexCharacter === -1) {\n    listCharacterFavorite.push(selectedCharacter);\n    event.currentTarget.classList.add('favorite');\n  } else {\n    listCharacterFavorite.splice(indexCharacter, 1);\n    event.currentTarget.classList.remove('favorite');\n  }\n\n  renderCharacterList(listCharactersApi);\n  moveToFavorites();\n}\n\nfunction moveToFavorites() {\n  ulFavorites.innerHTML = '';\n  for (const character of listCharacterFavorite) {\n    ulFavorites.innerHTML += renderFavoriteCharacter(character);\n  }\n}\n"]}